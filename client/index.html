<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Pixels!</title>
    <link rel="stylesheet" href="css/screen.css" />
  </head>
  <body>
    <container>
      <header>
        Pixels!
      </header>
      <form>
        <label>Host</label>
        <input type="text" name="host" required />
        <label>Port</label>
        <input type="text" name="port" required />
        <center>
          <button type="submit">
            Connect
          </button>
        </center>
      </form>
    </container>
  </body>
  <script>
    'use strict';
    const form = window.document.body.getElementsByTagName('form')[0];
    form.host.value = window.localStorage.getItem('host') || '';
    form.port.value = window.localStorage.getItem('port') || '8080';
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const host = e.target.host.value.trim();
      const port = parseInt(e.target.port.value.trim(), 10);
      if(!host || !port) return;
      window.localStorage.setItem('host', host);
      window.localStorage.setItem('port', port);
      window.location.href = 'player/index.html';
    });
  </script>
</html>
